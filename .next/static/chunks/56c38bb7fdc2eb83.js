(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55900,e=>{"use strict";var r=(0,e.i(75254).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>r],55900)},83086,e=>{"use strict";var r=(0,e.i(75254).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>r],83086)},15584,e=>{"use strict";var r=e.i(96572),a=e.i(43476),s=e.i(71645),t=e.i(15288),i=e.i(19455),l=e.i(83086),n=e.i(64659),c=e.i(55900),m=e.i(31278),o=e.i(41867),d=e.i(74911),h=e=>{var{pageTitle:h,pageContent:u,summaryTitle:p="Article Summary",summaryDescription:x="Get an AI-powered summary of this article for quick insights and key takeaways."}=e,[g,y]=(0,s.useState)(null),[v,j]=(0,s.useState)(!1),[f,k]=(0,s.useState)(!1),{toast:N}=(0,d.useToast)();return(0,s.useEffect)(()=>{y(null),k(!1)},[h,u]),(0,a.jsx)(t.Card,{className:"border-primary/20 bg-gradient-to-br from-background to-muted/30 max-w-4xl mx-auto",children:(0,a.jsx)(t.CardContent,{className:"p-8 md:p-10",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[(0,a.jsx)(l.Sparkles,{className:"h-7 w-7 text-primary animate-pulse"}),(0,a.jsx)("h3",{className:"text-2xl md:text-3xl font-bold",children:p}),(0,a.jsx)(l.Sparkles,{className:"h-7 w-7 text-primary animate-pulse"})]}),!g&&!v&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:x}),(0,a.jsxs)(i.Button,{onClick:()=>(0,r._)(function*(){j(!0),k(!0);try{var{data:e,error:r}=yield o.supabase.functions.invoke("summarize-article",{body:{pageTitle:h,pageContent:u}});if(r){console.error("Error generating summary:",r),N({variant:"destructive",title:"Failed to generate summaries",description:"Please try again later."}),k(!1);return}var a=null==e?void 0:e.summaries,s=a?[a.gemini,a.chatgpt,a.grok].filter(Boolean).length:0;if(!a||0===s){var t=(null==e?void 0:e.errors)?Object.values(e.errors).filter(Boolean).join(" | "):"";N({variant:"destructive",title:"AI summary temporarily unavailable",description:t||"Please try again later."}),y(null),k(!1);return}y(a),N({title:"Summary generated!",description:"".concat(s," AI ").concat(1===s?"summary":"summaries"," created successfully.")})}catch(e){console.error("Unexpected error:",e),N({variant:"destructive",title:"An error occurred",description:"Please try again later."}),k(!1)}finally{j(!1)}})(),className:"gap-2 hover-scale",size:"lg",children:[(0,a.jsx)(l.Sparkles,{className:"h-5 w-5"}),"Generate AI Summary"]})]}),v&&(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3 py-8",children:[(0,a.jsx)(m.Loader2,{className:"h-8 w-8 animate-spin text-primary"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Generating article summary..."})]}),g&&f&&(0,a.jsxs)("div",{className:"space-y-4 mt-6",children:[(g.gemini||g.grok||g.chatgpt)&&(0,a.jsx)("div",{className:"prose prose-sm md:prose-base max-w-none text-left bg-muted/30 rounded-lg p-6 [&_h2]:text-foreground [&_h2]:font-bold [&_h2]:text-lg [&_h2]:mb-3 [&_h2]:mt-4 [&_h2:first-child]:mt-0 [&_ul]:list-none [&_ul]:space-y-2 [&_li]:text-foreground [&_p]:text-foreground [&_hr]:my-4 [&_hr]:border-border",children:(g.gemini||g.grok||g.chatgpt||"").split("\n").map((e,r)=>e.startsWith("## ")?(0,a.jsx)("h2",{children:e.replace("## ","")},r):e.startsWith("• ")?(0,a.jsxs)("li",{className:"flex gap-2",children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:e.replace("• ","")})]},r):"---"===e.trim()?(0,a.jsx)("hr",{},r):e.trim()?(0,a.jsx)("p",{children:e},r):null)}),g.chatgpt&&g.gemini&&(0,a.jsxs)("div",{className:"sr-only","aria-hidden":"true",children:[(0,a.jsx)("h4",{children:"ChatGPT Summary:"}),g.chatgpt]}),g.grok&&g.gemini&&(0,a.jsxs)("div",{className:"sr-only","aria-hidden":"true",children:[(0,a.jsx)("h4",{children:"Grok Summary:"}),g.grok]}),(0,a.jsxs)(i.Button,{variant:"ghost",size:"sm",onClick:()=>k(!1),className:"gap-2 mt-4",children:[(0,a.jsx)(c.ChevronUp,{className:"h-4 w-4"}),"Collapse Summary"]})]}),g&&!f&&(0,a.jsxs)(i.Button,{variant:"ghost",size:"lg",onClick:()=>k(!0),className:"gap-2 hover-scale mt-4",children:[(0,a.jsx)(n.ChevronDown,{className:"h-4 w-4"}),"Show AI Summary"]})]})})})};e.s(["ArticleSummary",()=>h])},6327,e=>{e.n(e.i(15584))}]);