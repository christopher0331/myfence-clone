module.exports=[9669,a=>{"use strict";let b="d273c79511b386516c861cd858a",c=`https://cdn.trustindex.io/loader.js?${b}`;function d(a,e={}){let{rootMargin:f="250px",delayMs:g=1200,onLoaded:h,immediate:i=!1}=e,j=document.createElement("div");j.setAttribute("data-widget-id",b),j.className="trustindex-widget",a.appendChild(j),console.info("[Trustindex] widget div appended");let k=!1,l=null,m=null,n=()=>{k||(l=function(a,b=1500){let c=window;if(c.requestIdleCallback){let d=c.requestIdleCallback(a,{timeout:b});return()=>c.cancelIdleCallback?.(d)}let d=window.setTimeout(a,0);return()=>window.clearTimeout(d)}(()=>{k||function(a){if(document.querySelector(`script[src^="${c}"]`))return console.info("[Trustindex] script already present"),a?.(),()=>{};console.info("[Trustindex] injecting script",c);let b=document.createElement("script");b.src=c,b.async=!0,b.defer=!0,b.onload=()=>a?.(),b.onerror=a=>console.error("[Trustindex] script load error",a),document.body.appendChild(b),()=>{}}(h)}))};if(i)console.info("[Trustindex] immediate load requested"),m=window.setTimeout(n,g);else{let b=new IntersectionObserver(([a])=>{a.isIntersecting&&(b.disconnect(),m=window.setTimeout(n,g))},{rootMargin:f});console.info("[Trustindex] observing for viewport",{rootMargin:f}),b.observe(a)}return()=>{k=!0,"undefined"!=typeof observer&&observer.disconnect(),m&&window.clearTimeout(m),l?.(),j.remove()}}a.s(["TRUSTINDEX_SCRIPT_SRC",0,c,"TRUSTINDEX_WIDGET_ID",0,b,"mountTrustindexWidget",()=>d])}];

//# sourceMappingURL=src_lib_trustindex_ts_24ab63c5._.js.map